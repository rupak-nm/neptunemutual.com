---
import Icon from "../../elements/Icon.astro";
import InputWithIcon from "../../elements/InputWithIcon.astro";

const t = (x: string): string => x;
---

<div class="container github scan">
  <div>
    <h2>Scan your Github Repository</h2>

    <form onsubmit="return false;">
      <div class="inputs">
        <div>
          <label>Enter Organization Name*</label>
          <InputWithIcon
            className=""
            iconProps={{
              variant: "eye",
              size: "md",
            }}
            type="text"
            value=""
            placeholder="Organization Name"
            iconEnd={true}
            id="OrganizationName"
          />
          <span data-name="org" class="input error hide"
            >Invalid Organization Name</span
          >
        </div>

        <div>
          <label>Enter Repository Name*</label>
          <InputWithIcon
            className=""
            iconProps={{
              variant: "eye",
              size: "md",
            }}
            type="text"
            value=""
            placeholder="Repository Name"
            iconEnd={true}
            id="RepoName"
          />
          <span data-name="repo" class="input error hide"
            >Invalid Repository Name</span
          >
        </div>

        <div>
          <label>Enter Github Access Token</label>
          <InputWithIcon
            className=""
            iconProps={{
              variant: "eye",
              size: "md",
            }}
            type="password"
            value=""
            placeholder="Example-repo"
            iconEnd={true}
            id="AccessToken"
          />
          <span class="input error hide">Error</span>
        </div>
      </div>

      <fieldset id="FileType">
        <div>
          <input
            type="radio"
            name="file-type-selection"
            id="package-json"
            value="package.json"
          />
          <label for="package-json">Include package.json</label>
        </div>

        <div>
          <input
            type="radio"
            name="file-type-selection"
            id="package-lock-json"
            value="package-lock.json"
          />
          <label for="package-lock-json">Include package-lock.json</label>
        </div>

        <div>
          <input
            type="radio"
            name="file-type-selection"
            id="yarn-lock"
            value="yarn.lock"
          />
          <label for="yarn-lock">Include yarn.lock</label>
        </div>
      </fieldset>

      <div class="buttons">
        <button class="filled initiate" disabled>Initiate Scan</button>
        <button class="outlined terminate initially hidden"
          >Terminate Scan</button
        >
      </div>
    </form>

    <div class="container summary initially hidden">
      <div class="header">
        <h3>Scan Summary</h3>

        <div class="status">
          <div class="initially hidden" data-status="complete">
            <span>Scan Complete</span>
            <Icon variant="check-circle" />
          </div>
          <div class="initially hidden" data-status="in-progress">
            <span>Scan in Progress</span>
            <Icon variant="refresh-cw-05" />
          </div>
          <p class="packages count initially hidden">789 of 789 packages</p>
        </div>

        <div class="found files">
          <span>Found files:</span>
          <span class="file" data-name="package.json">package.json</span>
          <span class="file" data-name="package-lock.json"
            >package-lock.json</span
          >
          <span class="file" data-name="yarn.lock">yarn.lock</span>
          <span data-name="no-files">No files found</span>
        </div>
      </div>

      <table class="initially hidden">
        <thead>
          <tr>
            <th class="cell-1">
              <div>
                <span>Vulnerable Packages</span>
                <span class="badge success">0</span>
              </div>
            </th>
            <th class="cell-2"></th>
            <th class="cell-3">
              <div>
                <span>Potential Issues</span>
                <span class="badge danger">1</span>
              </div>
            </th>
          </tr>
          <tr class="sub header">
            <th>Package</th>
            <th>Issues</th>
            <th>Unstable Version</th>
          </tr>
        </thead>

        <tbody></tbody>
      </table>
    </div>
  </div>
</div>
